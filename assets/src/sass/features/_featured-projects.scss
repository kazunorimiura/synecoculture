@use "sass:map";
@use "../config";
@use "../base/settings" as *;
@use "../utilities/wrapper";
@use "../utilities/grid";
@use "../utilities/cluster";

.featured-projects {
    --featured-projects-header-height: 86px;

    position: relative;
}

.featured-projects--count-1 {
    height: calc((100vh - var(--site-gutter-slat) * 2) * 2);

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        height: calc((100vh - var(--site-gutter-slat) * 2) * 2 - (var(--featured-projects-header-height) * 1));
    }
}

.featured-projects--count-2 {
    height: calc((100vh - var(--site-gutter-slat) * 2) * 3);

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        height: calc((100vh - var(--site-gutter-slat) * 2) * 3 - (var(--featured-projects-header-height) * 2));
    }
}

.featured-projects--count-3 {
    height: calc((100vh - var(--site-gutter-slat) * 2) * 4);

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        height: calc((100vh - var(--site-gutter-slat) * 2) * 4 - (var(--featured-projects-header-height) * 3));
    }
}

.featured-projects--count-4 {
    height: calc((100vh - var(--site-gutter-slat) * 2) * 5);

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        height: calc((100vh - var(--site-gutter-slat) * 2) * 5 - (var(--featured-projects-header-height) * 4));
    }
}

.featured-projects--count-5 {
    height: calc((100vh - var(--site-gutter-slat) * 2) * 6);

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        height: calc((100vh - var(--site-gutter-slat) * 2) * 6 - (var(--featured-projects-header-height) * 5));
    }
}

.featured-projects__bg {
    position: sticky;
    top: var(--site-gutter-slat);
    left: var(--site-gutter-slat);
    display: flex;
    align-items: center;
    width: calc(100% - var(--site-gutter-slat) * 2);
    height: calc(100vh - var(--site-gutter-slat) * 2);
    background-color: var(--color-background-secondary);
    background-image: linear-gradient(var(--color-border-opaque) 1px, transparent 1px), linear-gradient(90deg, var(--color-border-opaque) 1px, transparent 1px);
    background-size: 18px 18px;
    border-radius: var(--radius-lg);

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        align-items: flex-start;
    }
}

.featured-projects__header {
    display: flex;
    flex: 1;
    align-items: center;
    justify-content: space-between;
    height: var(--featured-projects-header-height);
    padding-inline: var(--site-gutter);

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        padding-inline: var(--site-gutter-slat);
    }
}

.featured-projects__item-container {
    position: sticky;
    top: var(--site-gutter-slat);
    display: flex;
    align-items: center;
    justify-content: center;
    width: calc(100% - var(--site-gutter-slat) * 4);
    max-width: rem(490);
    height: calc(100vh - var(--site-gutter-slat) * 2);
    margin-inline: auto;

    @media screen and (max-width: em(map.get($breakpoints, lg))) {
        top: calc(var(--featured-projects-header-height) + var(--site-gutter-slat));
        height: calc(100vh - var(--featured-projects-header-height) - var(--site-gutter-slat) * 2);
    }
}

// .featured-projects__item-container:nth-of-type(1) {
//     background-color: rgb(167 239 22 / 30%);
// }

// .featured-projects__item-container:nth-of-type(2) {
//     background-color: rgb(22 120 239 / 30%);
// }

// .featured-projects__item-container:last-of-type {
//     background-color: rgb(217 22 239 / 30%);
// }

.featured-projects__item {
    display: flex;
    flex-direction: column-reverse;
    background-color: var(--color-background-primary);
    border-radius: var(--radius-lg);
    box-shadow: 0 1px 3px rgb(0 0 0 / 25%);
}

.featured-projects__item-container:nth-of-type(2) .featured-projects__item {
    transform: rotate(0deg);
}

.featured-projects__item-container:nth-of-type(3) .featured-projects__item {
    transform: rotate(-5deg);
}

.featured-projects__item-container:nth-of-type(4) .featured-projects__item {
    transform: rotate(5deg);
}

.featured-projects__item-container:nth-of-type(5) .featured-projects__item {
    transform: rotate(-5deg);
}

.featured-projects__item-container:nth-of-type(6) .featured-projects__item {
    transform: rotate(5deg);
}

.featured-projects__item__main {
    padding-block: fd(24, 32) fd(18, 24);
    padding-inline: fd(24, 32);
}

.featured-projects__item__main > * + * {
    margin-block-start: fd(18, 24);
}

.featured-projects__item__sub-categories {
    @extend %cluster;

    --cluster-space: #{rem(8)};

    padding-block-start: fd(18, 24);
    border-block-start: 1px solid var(--color-border-opaque);
}

.featured-projects__item__sub-category::before {
    display: inline-block;
    content: "#";
}

.featured-projects__item__header {
    display: flex;
    flex-direction: column-reverse;
    gap: fd(12, 16);
}

.featured-projects__item__heading {
    font: var(--font-headline-2);
}

.featured-projects__item__thumbnail-container {
    padding-block-start: fd(18, 24);
    padding-inline: fd(18, 24);
}
